@model IEnumerable<Bookstore.DTOs.BookDto>

@{
    ViewData["Title"] = "Books";
}

<h2>Books</h2>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

<style>
    .card-title {
        font-size: 1.1rem;
        font-weight: 600;
        margin: 0;
    }

    .card-img-top {
        border-bottom: 1px solid #ddd;
    }

    .add-button-container {
        text-align: center;
        margin: 20px 0;
    }

    .add-button {
        background-color: #6a0dad;
        color: white;
        padding: 10px 20px;
        border: none;
        font-size: 16px;
        border-radius: 8px;
        text-decoration: none;
        transition: background-color 0.3s ease;
    }

    .wishlist-btn {
        border: none;
        background: none;
        cursor: pointer;
        padding: 0;
        font-size: 1.5rem; /* mai mare */
        color: black; /* contur alb */
        transition: color 0.3s ease;
    }

        .wishlist-btn:hover {
            color: #dc3545; /* roșu la hover */
        }
</style>

<div class="add-button-container">
    <a asp-action="Create" class="add-button">+ Add New Book</a>
</div>

<div class="row">
    @foreach (var book in Model)
    {
        <div class="col-md-3 mb-4">
            <div class="card h-100 shadow-sm border-0">
                <a asp-action="Details" asp-route-id="@book.Id">
                    <img src="@(book.BookImage != null
                        ? $"data:image/jpeg;base64,{Convert.ToBase64String(book.BookImage)}"
                        : Url.Content("~/images/default.jpg"))"
                         alt="@book.Title"
                         style="height: 300px; width: 307px; object-fit: cover;" />
                </a>
                <div class="card-body d-flex flex-column">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h5 class="card-title">@book.Title</h5>
                        <button class="wishlist-btn" title="Add to Wishlist">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <p class="card-text text-danger fw-bold">@book.Price.ToString("0.0") Lei</p>
                    <a asp-action="Edit" asp-route-id="@book.Id" class="edit">Edit</a>
                    <a asp-action="Delete" asp-route-id="@book.Id" class="delete">Delete</a>
                    <a href="#" class="btn btn-outline-primary mt-auto">
                        <i class="fas fa-shopping-cart"></i> Add to cart
                    </a>
                </div>
            </div>
        </div>
    }
</div>
